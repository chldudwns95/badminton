/* 팀_마스터 */
CREATE TABLE TEAM_MST (
	TEAM_NO VARCHAR(5) NOT NULL, /* 팀 번호 */
	TEAM_NM VARCHAR(20) NOT NULL, /* 팀 이름 */
	GAME_NO VARCHAR(30), /* 참여한경기 */
	ING_GAME VARCHAR(30), /* 진행중인경기 */
	GAME_RESULT VARCHAR(20), /* 경기결과(누적) */
	RESULT_YN VARCHAR(10), /* 승패여부 */
	TEAM_INS DATE, /* 팀 등록일 */
	TEAM_DEL_YN VARCHAR(2) /* 팀 삭제여부 */
);

COMMENT ON TABLE TEAM_MST IS '팀_마스터';

COMMENT ON COLUMN TEAM_MST.TEAM_NO IS '팀 번호';

COMMENT ON COLUMN TEAM_MST.TEAM_NM IS '팀 이름';

COMMENT ON COLUMN TEAM_MST.GAME_NO IS '참여한경기';

COMMENT ON COLUMN TEAM_MST.ING_GAME IS '진행중인경기';

COMMENT ON COLUMN TEAM_MST.GAME_RESULT IS '경기결과(누적)';

COMMENT ON COLUMN TEAM_MST.RESULT_YN IS '승패여부';

COMMENT ON COLUMN TEAM_MST.TEAM_INS IS '팀 등록일';

COMMENT ON COLUMN TEAM_MST.TEAM_DEL_YN IS '팀 삭제여부';

CREATE UNIQUE INDEX PK_TEAM_MST
	ON TEAM_MST (
		TEAM_NO ASC
	);

ALTER TABLE TEAM_MST
	ADD
		CONSTRAINT PK_TEAM_MST
		PRIMARY KEY (
			TEAM_NO
		);

/* 게임_마스터 */
CREATE TABLE GAME_MST (
	GAME_ID VARCHAR(20) NOT NULL, /* 경기번호 */
	GAME_NM VARCHAR(30) NOT NULL, /* 경기이름 */
	GAME_STATUS VARCHAR(5), /* 경기상태 */
	GAME_CLS VARCHAR(20), /* 경기구분 */
	GAME_START_DT DATE NOT NULL, /* 경기시작일 */
	GAME_END_DT DATE NOT NULL, /* 경기종료일 */
	GAME_KING VARCHAR(20), /* 경기주체자 */
	TEAM_NO VARCHAR(5) /* 팀 번호 */
);

COMMENT ON TABLE GAME_MST IS '게임_마스터';

COMMENT ON COLUMN GAME_MST.GAME_ID IS '경기번호';

COMMENT ON COLUMN GAME_MST.GAME_NM IS '경기이름';

COMMENT ON COLUMN GAME_MST.GAME_STATUS IS '경기상태';

COMMENT ON COLUMN GAME_MST.GAME_CLS IS '경기구분';

COMMENT ON COLUMN GAME_MST.GAME_START_DT IS '경기시작일';

COMMENT ON COLUMN GAME_MST.GAME_END_DT IS '경기종료일';

COMMENT ON COLUMN GAME_MST.GAME_KING IS '경기주체자';

COMMENT ON COLUMN GAME_MST.TEAM_NO IS '팀 번호';

CREATE UNIQUE INDEX PK_GAME_MST
	ON GAME_MST (
		GAME_ID ASC
	);

ALTER TABLE GAME_MST
	ADD
		CONSTRAINT PK_GAME_MST
		PRIMARY KEY (
			GAME_ID
		);

/* 게임_상세 */
CREATE TABLE GAME_DTL (
	ING_TEAM_NO VARCHAR(20) NOT NULL, /* 참여팀 번호 */
	GAME_RESULT VARCHAR(20), /* 게임결과 */
	GAME_ID VARCHAR(20) /* 경기번호 */
);

COMMENT ON TABLE GAME_DTL IS '게임_상세';

COMMENT ON COLUMN GAME_DTL.ING_TEAM_NO IS '참여팀 번호';

COMMENT ON COLUMN GAME_DTL.GAME_RESULT IS '게임결과';

COMMENT ON COLUMN GAME_DTL.GAME_ID IS '경기번호';

CREATE UNIQUE INDEX PK_GAME_DTL
	ON GAME_DTL (
		ING_TEAM_NO ASC
	);

ALTER TABLE GAME_DTL
	ADD
		CONSTRAINT PK_GAME_DTL
		PRIMARY KEY (
			ING_TEAM_NO
		);

/* 유저 */
CREATE TABLE USER_MST (
	USER_ID VARCHAR(20) NOT NULL, /* 아이디 */
	NAME VARCHAR(10) NOT NULL, /* 이름 */
	PASSWORD VARCHAR(30) NOT NULL, /* 비밀번호 */
	ROLE VARCHAR(10) NOT NULL, /* 권한 */
	COMPANY VARCHAR(50), /* 회사명 */
	DEPT VARCHAR(30), /* 부서명 */
	TEAM_STATUS VARCHAR(20), /* 팀신청(처리상태) */
	TEAM_NO VARCHAR(5) /* 팀 번호 */
);

COMMENT ON TABLE USER_MST IS '유저';

COMMENT ON COLUMN USER_MST.USER_ID IS '아이디';

COMMENT ON COLUMN USER_MST.NAME IS '이름';

COMMENT ON COLUMN USER_MST.PASSWORD IS '비밀번호';

COMMENT ON COLUMN USER_MST.ROLE IS '권한';

COMMENT ON COLUMN USER_MST.COMPANY IS '회사명';

COMMENT ON COLUMN USER_MST.DEPT IS '부서명';

COMMENT ON COLUMN USER_MST.TEAM_STATUS IS '팀신청(처리상태)';

COMMENT ON COLUMN USER_MST.TEAM_NO IS '팀 번호';

CREATE UNIQUE INDEX PK_USER_MST
	ON USER_MST (
		USER_ID ASC
	);

ALTER TABLE USER_MST
	ADD
		CONSTRAINT PK_USER_MST
		PRIMARY KEY (
			USER_ID
		);

/* 팀 상세 */
CREATE TABLE TEAM_DTL (
	TEAM_IN_ID VARCHAR(20) NOT NULL, /* 소속팀원아이디 */
	TEAM_ING_ID VARCHAR(20), /* 신청한팀원ID */
	TEAM_NO VARCHAR(5) /* 팀 번호 */
);

COMMENT ON TABLE TEAM_DTL IS '팀 상세';

COMMENT ON COLUMN TEAM_DTL.TEAM_IN_ID IS '소속팀원아이디';

COMMENT ON COLUMN TEAM_DTL.TEAM_ING_ID IS '신청한팀원ID';

COMMENT ON COLUMN TEAM_DTL.TEAM_NO IS '팀 번호';

/* 공지사항 */
CREATE TABLE BOARD (
	BOARD_ID VARCHAR(10), /* 번호 */
	BOARD_CLS VARCHAR(10), /* 구분 */
	BOARD_TITLE VARCHAR(300), /* 제목 */
	BOARD_COTENT VARCHAR(4000), /* 내용 */
	INS_DT DATE /* 등록일자 */
);

COMMENT ON TABLE BOARD IS '공지사항';

COMMENT ON COLUMN BOARD.BOARD_ID IS '번호';

COMMENT ON COLUMN BOARD.BOARD_CLS IS '구분';

COMMENT ON COLUMN BOARD.BOARD_TITLE IS '제목';

COMMENT ON COLUMN BOARD.BOARD_COTENT IS '내용';

COMMENT ON COLUMN BOARD.INS_DT IS '등록일자';

/* 공통 */
CREATE TABLE COMM (
	COMM_ID VARCHAR(10) NOT NULL, /* 공통아이디 */
	COMM_NM VARCHAR(50), /* 공통이름 */
	PURPOSE VARCHAR(50), /* 사용목적 */
	CLS VARCHAR(50) /* 사용구분 */
);

COMMENT ON TABLE COMM IS '공통';

COMMENT ON COLUMN COMM.COMM_ID IS '공통아이디';

COMMENT ON COLUMN COMM.COMM_NM IS '공통이름';

COMMENT ON COLUMN COMM.PURPOSE IS '사용목적';

COMMENT ON COLUMN COMM.CLS IS '사용구분';

CREATE UNIQUE INDEX PK_COMM
	ON COMM (
		COMM_ID ASC
	);

ALTER TABLE COMM
	ADD
		CONSTRAINT PK_COMM
		PRIMARY KEY (
			COMM_ID
		);

ALTER TABLE GAME_MST
	ADD
		CONSTRAINT FK_TEAM_MST_TO_GAME_MST
		FOREIGN KEY (
			TEAM_NO
		)
		REFERENCES TEAM_MST (
			TEAM_NO
		);

ALTER TABLE GAME_DTL
	ADD
		CONSTRAINT FK_GAME_MST_TO_GAME_DTL
		FOREIGN KEY (
			GAME_ID
		)
		REFERENCES GAME_MST (
			GAME_ID
		);

ALTER TABLE USER_MST
	ADD
		CONSTRAINT FK_TEAM_MST_TO_USER_MST
		FOREIGN KEY (
			TEAM_NO
		)
		REFERENCES TEAM_MST (
			TEAM_NO
		);

ALTER TABLE TEAM_DTL
	ADD
		CONSTRAINT FK_TEAM_MST_TO_TEAM_DTL
		FOREIGN KEY (
			TEAM_NO
		)
		REFERENCES TEAM_MST (
			TEAM_NO
		);